<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>For Diptiüíñ</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;800&display=swap" rel="stylesheet">
  <style>
    body,html{margin:0;height:100%;font-family:Poppins,system-ui;overflow:hidden;}
    body{display:flex;align-items:center;justify-content:center;background:linear-gradient(120deg,#ffe3ec,#e5f0ff,#fff7d6);background-size:200% 200%;animation:bgmove 12s ease-in-out infinite;}
    @keyframes bgmove{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}

    /* Gate screen */
    .gate{
      position:absolute;inset:0;display:flex;flex-direction:column;align-items:center;justify-content:center;
      background:rgba(255,255,255,0.9);backdrop-filter:blur(8px);text-align:center;
      transition:opacity 1s ease;
    }
    .gate.hide{opacity:0;pointer-events:none;}

    .gate h1{font-weight:800;font-size:clamp(28px,7vw,48px);margin-bottom:20px;color:#ff4d8d;text-shadow:0 0 12px #ff4d8d77;}
    .gate h2{font-weight:600;font-size:clamp(18px,5vw,24px);margin-bottom:26px;color:#444;}
    .gate button{
      padding:14px 30px;font-size:18px;font-weight:700;border:none;border-radius:999px;cursor:pointer;
      background:#ff4d8d;color:white;box-shadow:0 8px 24px rgba(255,77,141,.35);transition:transform .15s ease;
    }
    .gate button:hover{transform:scale(1.05)}

    .wrap{position:relative;min-height:100%;display:none;align-items:center;justify-content:center;padding:24px}

    .card{width:min(720px,95vw);background:#ffffffd9;backdrop-filter:blur(6px);border-radius:24px;box-shadow:0 20px 60px rgba(0,0,0,.08);padding:clamp(20px,4vw,40px);text-align:center;position:relative;z-index:2;}
    .title{font-weight:800;font-size:clamp(28px,6vw,52px);line-height:1.1;text-shadow:0 0 10px #ffb3ccaa,0 0 20px #ff4d8d77;animation:glow 2s ease-in-out infinite alternate;}
    @keyframes glow{from{text-shadow:0 0 8px #ffb3ccaa;}to{text-shadow:0 0 18px #ff4d8daa,0 0 30px #ff4d8d77;}}
    .title .name{color:#ff4d8d}
    .subtitle{font-size:clamp(14px,3.2vw,18px);opacity:.8;margin-top:8px}
    .btn{margin-top:18px;padding:14px 22px;border:none;cursor:pointer;border-radius:999px;font-weight:700;font-size:16px;background:#ff4d8d;color:#fff;box-shadow:0 8px 24px rgba(255,77,141,.35);}
    .chips{display:flex;gap:10px;justify-content:center;flex-wrap:wrap;margin-top:14px}
    .chip{font-size:13px;padding:8px 12px;border-radius:999px;background:#00000008}
    .countdown{margin-top:18px;font-weight:600}
    .countdown span{display:inline-block;min-width:52px}

    .balloon{position:fixed;bottom:-120px;width:70px;height:90px;border-radius:50% 50% 45% 55% / 55% 55% 45% 45%;filter:drop-shadow(0 12px 12px rgba(0,0,0,.12));z-index:1;opacity:.9}
    .balloon:after{content:"";position:absolute;left:50%;top:90px;width:2px;height:70px;background:rgba(0,0,0,.1)}
    @keyframes rise{from{transform:translateY(0)}to{transform:translateY(-120vh)}}

    canvas#confetti{position:fixed;inset:0;pointer-events:none;z-index:3}
    .heart{position:fixed;font-size:22px;pointer-events:none;animation:pop 1s ease forwards;z-index:4}
    @keyframes pop{0%{transform:translate(-50%,-50%) scale(.6);opacity:1}80%{transform:translate(-50%,-120%) scale(1.6);opacity:.9}100%{opacity:0}}

    /* Sparkle background */
    .sparkle{position:fixed;width:6px;height:6px;background:white;border-radius:50%;opacity:.8;animation:twinkle 3s infinite ease-in-out;}
    @keyframes twinkle{0%,100%{opacity:.2;transform:scale(.5);}50%{opacity:1;transform:scale(1.2);}}
  </style>
</head>
<body>
  <div class="gate">
    <h2>From Deep üíñ</h2>
    <h1>üíå A little surprise is waiting for you üíå</h1>
    <button id="enterBtn">Click here to see üéÅ</button>
  </div>

  <canvas id="confetti"></canvas>
  <div class="wrap">
    <div class="card">
      <div class="title">Hey <span class="name">My Love Pillu</span> ü´∂<br><span id="typed"></span></div>
      <div class="subtitle">I couldn't wait to tell you ‚Äî you make every day brighter.  üéÇüéà</div>
      <div class="countdown" id="countdown" hidden>Countdown: <span id="dd">00</span>d : <span id="hh">00</span>h : <span id="mm">00</span>m : <span id="ss">00</span>s</div>
      <button class="btn" id="surpriseBtn">Tap for a surprise ‚ú®</button>
      <div class="chips">
        <div class="chip">Wifeyyyyyyüíó</div>
        <div class="chip">30 Days Left üíå </div>
        <div class="chip">Lots of Love üç∞ </div>
      </div>
    </div>
  </div>

  <!-- Happy Birthday Song (royalty free instrumental) -->
  <audio id="music" preload="auto">
    <source src="https://www.bensound.com/bensound-music/bensound-romantic.mp3" type="audio/mp3">
  </audio>

  <script>
    const enterBtn=document.getElementById('enterBtn');
    const gate=document.querySelector('.gate');
    const wrap=document.querySelector('.wrap');
    const music=document.getElementById('music');

    enterBtn.onclick=()=>{
      gate.classList.add("hide");
      setTimeout(()=>{gate.style.display='none';wrap.style.display='flex';},800);
      music.currentTime=0;
      music.play().catch(()=>{});
    };

    const params=new URLSearchParams(location.search);
    const herName=(params.get('name')||'My Love, Pillu').trim();
    const bdayDateStr=params.get('date');
    document.querySelector('.name').textContent=herName;

    const typedEl=document.getElementById('typed');
    const full='Happy Birthday in Advance!';
    typedEl.textContent='';let i=0;const typer=()=>{if(i<=full.length){typedEl.textContent=full.slice(0,i++);setTimeout(typer,60);}};typer();

    const countdownEl=document.getElementById('countdown');
    if(bdayDateStr){
      countdownEl.hidden=false;
      const target=new Date(bdayDateStr+'T00:00:00');
      const dd=document.getElementById('dd');const hh=document.getElementById('hh');const mm=document.getElementById('mm');const ss=document.getElementById('ss');
      const tick=()=>{const now=new Date();let diff=target-now;if(diff<0)diff=0;
        const d=Math.floor(diff/86400000);const h=Math.floor(diff%86400000/3600000);
        const m=Math.floor(diff%3600000/60000);const s=Math.floor(diff%60000/1000);
        dd.textContent=String(d).padStart(2,'0');
        hh.textContent=String(h).padStart(2,'0');
        mm.textContent=String(m).padStart(2,'0');
        ss.textContent=String(s).padStart(2,'0');
        requestAnimationFrame(tick);
      };tick();
    }

    const colors=['#ff9ac2','#ffd166','#95e1ff','#b7f0a1','#c2b5ff'];
    function spawnBalloon(){const b=document.createElement('div');b.className='balloon';
      const c=colors[Math.floor(Math.random()*colors.length)];
      b.style.background=`radial-gradient(circle at 30% 30%, #fff6 0 25%, ${c} 60%, ${c} 100%)`;
      b.style.left=Math.random()*100+'vw';
      b.style.animation=`rise ${12+Math.random()*8}s linear forwards`;
      document.body.appendChild(b);setTimeout(()=>b.remove(),20000);}
    setInterval(spawnBalloon,1200);for(let i=0;i<6;i++)setTimeout(spawnBalloon,i*500);

    const c=document.getElementById('confetti');const ctx=c.getContext('2d');let W,H,parts=[];
    function resize(){W=c.width=innerWidth;H=c.height=innerHeight}addEventListener('resize',resize);resize();
    function addConfetti(n){for(let i=0;i<n;i++){parts.push({x:Math.random()*W,y:-10,r:4+Math.random()*6,vx:(Math.random()-.5)*2,vy:2+Math.random()*3,rot:Math.random()*360});}}
    function burstConfetti(x=W/2,y=H/3){for(let i=0;i<120;i++){const angle=Math.random()*Math.PI*2;const speed=2+Math.random()*6;
      parts.push({x,y,r:3+Math.random()*6,vx:Math.cos(angle)*speed,vy:Math.sin(angle)*speed,rot:Math.random()*360});}}
    function loop(){ctx.clearRect(0,0,W,H);parts.forEach(p=>{p.x+=p.vx;p.y+=p.vy;p.vy+=0.05;p.rot+=2;
      ctx.save();ctx.translate(p.x,p.y);ctx.rotate(p.rot*Math.PI/180);
      ctx.fillStyle=colors[p.r|0%colors.length];ctx.fillRect(-p.r/2,-p.r/2,p.r,p.r);ctx.restore();});
      parts=parts.filter(p=>p.y<H+20);requestAnimationFrame(loop);}loop();

    function heartAt(x,y){const h=document.createElement('div');h.className='heart';h.textContent='üíñ';h.style.left=x+'px';h.style.top=y+'px';document.body.appendChild(h);setTimeout(()=>h.remove(),1000);}
    addEventListener('click',e=>heartAt(e.clientX,e.clientY));

    const btn=document.getElementById('surpriseBtn');let opened=false;
    btn.addEventListener('click',()=>{if(!opened){burstConfetti();burstConfetti(innerWidth*0.2,innerHeight*0.4);burstConfetti(innerWidth*0.8,innerHeight*0.4);addConfetti(300);btn.textContent='Make a wish ‚ú®';opened=true;}else{burstConfetti(Math.random()*innerWidth,Math.random()*innerHeight*0.6+80);}});

    // Sparkles
    function spawnSparkle(){
      const s=document.createElement("div");
      s.className="sparkle";
      s.style.left=Math.random()*100+"vw";
      s.style.top=Math.random()*100+"vh";
      document.body.appendChild(s);
      setTimeout(()=>s.remove(),3000);
    }
    setInterval(spawnSparkle,500);
  </script>
</body>
</html>
